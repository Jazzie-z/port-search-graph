(this["webpackJsonpport-search-graph"]=this["webpackJsonpport-search-graph"]||[]).push([[0],{144:function(e,t,n){e.exports={wrapper:"Graph_wrapper__3bGCe",card:"Graph_card__1tFCa",checkbox:"Graph_checkbox__j20qg"}},168:function(e,t,n){e.exports={container:"Filter_container__3LAG8",spinner:"Filter_spinner__3IUcq"}},254:function(e,t,n){},406:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(0),c=n.n(r),o=n(33),i=n.n(o),s=(n(254),n(47)),u=(n(259),"PORTS"),l="PORTS_SUCCESS",d="PORTS_ERROR",p="GRAPH",j="GRAPH_SUCCESS",b="GRAPH_ERROR",f="DATE_FILTER",O="GRAPH_FILTER",h=n(131),g=n.n(h),v="https://685rp9jkj1.execute-api.eu-west-1.amazonaws.com/prod/ports",y="https://685rp9jkj1.execute-api.eu-west-1.amazonaws.com/prod/rates",m={headers:{"X-Api-Key":"us5CREOTW437CdO8lrete1Mh9pUuNAJr6pGWPL4L"}},x=function(e){return{data:e,error:null}},w=function(e){return{data:null,error:e||{}}},_=n(42),R=n(415),S=n(410),C=n(423),E=n(417),P={message:"Error",description:"Something went wrong"},k={origin:"Origin",destination:"Destination"},G=["mean","high","low"],A=function(e){var t=e.message,n=e.description;return Object(a.jsx)("div",{style:{maxWidth:"500px",margin:10},children:Object(a.jsx)(E.a,{message:t,description:n,type:"error",showIcon:!0,closable:!0})})};A.defaultProps={message:P.message,description:P.description};var M=A,D=n(37),N=n(107),T=n(45),F=n.n(T),z="MMM DD",I="YYYY-MM-DD",L=function(e){return F()(e).format(z)},H=function(e,t){return e&&t?e.filter((function(e){return F()(e.day).isSameOrAfter(t[0].format(I))&&F()(e.day).isSameOrBefore(t[1].format(I))})):e},U=function(e){var t=e.origin,n=e.destination;return"".concat(y,"?origin=").concat(t,"&destination=").concat(n)},Y=n(418),J=n(53),K=Y.a.Option,W=function(e){var t=e.options,n=e.value,r=e.onChange,c=e.placeholder;return Object(a.jsx)(J.a,{span:8,children:Object(a.jsx)(Y.a,{showSearch:!0,style:{width:200},placeholder:c,onChange:r,value:n,children:t.map((function(e,t){var n=e.code,r=e.name;return Object(a.jsx)(K,{value:n,children:r},t)}))})})};W.defaultProps={options:[],value:null,onChange:function(){},placeholder:null};var q=W,B=function(e){var t=e.ports,n=Object(r.useState)({origin:null,destination:null}),c=Object(_.a)(n,2),o=c[0],i=c[1],u=Object(s.b)();return Object(r.useEffect)((function(){var e;o.origin&&o.destination&&u((e=o,function(t){t({type:p}),g.a.get(U(e),m).then((function(e){var n,a=e.data;if((null===a||void 0===a?void 0:a.length)&&a.find((function(e){return e.high||e.low||e.mean})))return t({type:j,payload:x((n=e.data,null===n||void 0===n?void 0:n.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{day:(t=e.day,F()(t).valueOf())});var t}))))});t({type:b,payload:w({message:"No Data Present"})})})).catch((function(e){console.error(e),t({type:b,payload:w(e.response)})}))}))}),[o]),Object(a.jsxs)(N.a,{justify:"space-between",children:[Object(a.jsx)(q,{options:t.filter((function(e){return e.code!==o.destination})),value:o.origin,onChange:function(e){return i((function(t){return Object(D.a)(Object(D.a)({},t),{},{origin:e})}))},placeholder:k.origin}),Object(a.jsx)(q,{options:t.filter((function(e){return e.code!==o.origin})),value:o.destination,onChange:function(e){return i((function(t){return Object(D.a)(Object(D.a)({},t),{},{destination:e})}))},placeholder:k.destination})]})};B.defaultProps={ports:[]};var $=B,X=n(168),Q=n.n(X),V=R.a.RangePicker,Z=function(){var e=Object(r.useState)(null),t=Object(_.a)(e,2),n=t[0],c=t[1],o=Object(s.c)((function(e){return e.port})),i=o.data,u=o.error,l=o.loading,d=Object(s.b)();Object(r.useEffect)((function(){d({type:f,payload:n})}),[d,n]);return l?Object(a.jsx)(S.a,{size:"large",className:Q.a.spinner}):u?Object(a.jsx)(M,{}):Object(a.jsxs)(C.b,{direction:"vertical",size:20,className:Q.a.container,children:[Object(a.jsx)($,{ports:i}),Object(a.jsx)(V,{onChange:function(e){c(e)},value:n})]})},ee=n(422),te=n(416),ne=n(421),ae=n(419),re=n(414),ce=n(236),oe=n(237),ie=n(146),se=n(242),ue=n(144),le=n.n(ue),de=ee.a.Group,pe=function(){var e=Object(s.c)((function(e){return e.graph})),t=e.data,n=e.loading,c=e.error,o=e.dateRange,i=e.filter,u=void 0===i?[]:i,l=Object(s.b)();if(Object(r.useEffect)((function(){l({type:O,payload:["mean"]})}),[l]),n)return Object(a.jsx)(S.a,{size:"large",style:{display:"block"}});if(c)return Object(a.jsx)(M,{description:c.message});return t?Object(a.jsxs)("div",{className:le.a.wrapper,children:[Object(a.jsx)(ne.a,{width:"75%",height:300,children:Object(a.jsxs)(ae.a,{width:1200,height:300,data:H(t,o),margin:{top:5,right:30,left:20,bottom:5},children:[Object(a.jsx)(re.a,{strokeDasharray:"3 3",vertical:!1}),Object(a.jsx)(ce.a,{dataKey:"day",type:"number",tickFormatter:L,domain:(null===o||void 0===o?void 0:o.map((function(e){return e.valueOf()})))||["auto","auto"]}),Object(a.jsx)(oe.a,{domain:["dataMin - 10","dataMax + 10"],unit:" $"}),Object(a.jsx)(ie.a,{labelFormatter:function(e){return L(e)},formatter:function(e){return e+" $"}}),G.map((function(e,t){return u.includes(e)?Object(a.jsx)(se.a,{connectNulls:!0,type:"step",dataKey:e,stroke:"red",dot:!1},t):""}))]})}),Object(a.jsx)(te.a,{title:"Graph Type",className:le.a.card,children:Object(a.jsx)(de,{className:le.a.checkbox,options:G,value:u,onChange:function(e){l({type:O,payload:e})}})})]}):null},je=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){e((function(e){e({type:u}),g.a.get(v,m).then((function(t){e({type:l,payload:x(t.data)})})).catch((function(t){e({type:d,payload:w(t.response)})}))}))}),[e]),Object(a.jsxs)("div",{children:[Object(a.jsx)(Z,{}),Object(a.jsx)(pe,{})]})},be=n(81),fe=n(238),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case l:case d:return t.payload;default:return e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case j:case b:return Object(D.a)(Object(D.a)({},e),{},{loading:!1},t.payload);case f:return Object(D.a)(Object(D.a)({},e),{},{dateRange:t.payload});case O:return Object(D.a)(Object(D.a)({},e),{},{filter:t.payload});default:return e}},ge=Object(be.c)({port:Oe,graph:he}),ve=Object(be.d)(ge,Object(be.a)(fe.a));i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{store:ve,children:Object(a.jsx)(je,{})})}),document.getElementById("root"))}},[[406,1,2]]]);
//# sourceMappingURL=main.ccfbb6fe.chunk.js.map